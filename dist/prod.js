(()=>{"use strict";var e={307:(e,t)=>{function i(e){if(e instanceof Date)return e.getTime();if(Array.isArray(e))return e.map((e=>i(e)));if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=i(e[n]));return t}return e}function n(e){if("number"==typeof e&&!isNaN(e))return new Date(e);if(Array.isArray(e))return e.map((e=>n(e)));if("object"==typeof e&&null!==e){const t={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=n(e[i]));return t}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.convertDateToNumber=i,t.convertNumberToDate=n,t.convertDateToString=function e(t){if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map((t=>e(t)));if("object"==typeof t&&null!==t){const i={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=e(t[n]));return i}return t},t.restoreDateFromLocalStorage=function(e){const t=localStorage.getItem(e);if(!t)return null;return n(JSON.parse(t))},t.saveDateToLocalStorage=function(e,t){const n=i(t);localStorage.setItem(e,JSON.stringify(n))}},232:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TicketData=void 0,t.sendTicketData=async function(e,t){try{const i=new a(e,t),n="https://discord.com/api/webhooks/1255830021105385502/t403VJ4ELXUUDqadQVrGu2JDF8i2IyolLsAvb5fUU1ftO-4JA6HmZTCqn-a-k72d0Hyx",r=await i.sendToDiscordWebhook(n);console.log("Webhook送信成功:",r)}catch(e){console.error("Webhook送信エラー:",e)}};const n=i(307);class a{applicationId;referenceNumbers;eventInfo;stageInfo;ticketTypeInfo;quantity;totalPrice;paymentChannel;status;paymentTerm;createdAt;confirmNumber;receiptNumber;customizeSelection;email;constructor(e,t){if("object"!=typeof e||null===e)throw new Error("Invalid input: expected an object");this.applicationId=e.applicationId||"",this.referenceNumbers=Array.isArray(e.referenceNumbers)?e.referenceNumbers:[],this.eventInfo=(0,n.convertDateToString)(e.event),this.stageInfo=(0,n.convertDateToString)(e.stages[0]),this.ticketTypeInfo=(0,n.convertDateToString)(e.ticketType),this.quantity=e.quantity||0,this.totalPrice=e.totalPrice||0,this.paymentChannel=e.paymentChannel||"",this.status=e.status||"",this.paymentTerm=e.paymentTerm||"",this.createdAt=e.createdAt||"",this.confirmNumber=e.confirmNumber||"",this.receiptNumber=e.receiptNumber||"",this.customizeSelection=Array.isArray(e.customize)?e.customize:[],this.email=t}generateDescription(){return`[TicketDive-${this.eventInfo.id}]\n  ・注文番号: ${this.applicationId}\n  ・イベント: ${this.eventInfo.name}\n  ・購入内容: ${this.ticketTypeInfo.name} ${this.quantity}枚\n  ・受付時刻: ${new Date(this.createdAt).toLocaleString("ja-JP")}\n  ・支払番号: ${this.confirmNumber}-${this.receiptNumber}\n  ・購入金額: ${this.totalPrice}円\n  ・支払期限: ${new Date(this.paymentTerm).toLocaleString("ja-JP")}`}generateFields(){return[{name:"id",value:`[${this.applicationId.slice(0,6)}](https://ticketdive.com/application/${this.applicationId})`,inline:!0},{name:"time",value:new Date(this.createdAt).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),inline:!0},{name:"date",value:new Date(this.stageInfo.startStage).toLocaleDateString("ja-JP",{month:"numeric",day:"numeric",weekday:"short"}),inline:!0},{name:"ref",value:this.referenceNumbers.map((e=>`${this.ticketTypeInfo.prefix}-${e}`)).join(", "),inline:!0},{name:"confirm",value:this.confirmNumber,inline:!0},{name:"receipt",value:this.receiptNumber,inline:!0},{name:"type",value:this.ticketTypeInfo.name,inline:!0},{name:"count",value:this.quantity.toString(),inline:!0},{name:"amount",value:`${this.totalPrice}円`,inline:!0}]}toJSON(){return{embeds:[{author:{name:"diver_v5",icon_url:"https://ticketdive.com/_nuxt/icons/icon_512x512.017fda.png",url:"https://gist.github.com/otkrickey/38cbb2212b951da95c54e42ae2bbfc13"},title:`[${this.referenceNumbers.map((e=>`${this.ticketTypeInfo.prefix}-${e}`)).join(", ")}] ${this.eventInfo.name}`,url:`https://ticketdive.com/event/${this.eventInfo.url}`,description:this.generateDescription(),fields:this.generateFields(),thumbnail:{url:this.eventInfo.topImage},color:45300,footer:{text:this.email,icon_url:"https://ticketdive.com/_nuxt/icons/icon_512x512.017fda.png"},timestamp:new Date(this.createdAt).toISOString()}]}}async sendToDiscordWebhook(e){const t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.toJSON())});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}}t.TicketData=a}},t={};function i(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,i),r.exports}(()=>{const e=i(307);var t,n;!function(e){e.APPLICATION__GET_APPLICATIONS="application/getApplications",e.EVENT__ADD_EVENT_FAVORITE="event/addEventFavorite",e.EVENT__GET_FAVORITE_EVENT_LIST="event/getFavoriteEventList",e.EVENT__GET_SPECIFIC_EVENT="event/getSpecificEvent",e.EVENT__IS_EVENT_FAVORITE="event/isEventFavorite",e.TICKET__GET_RELATED_TICKETS="ticket/getRelatedTickets",e.TICKET__GET_TICKET_DETAIL="ticket/getTicketDetail",e.USER__AUTO_SIGN_IN="user/autoSignIn",e.USER__IS_SIGNED_IN="user/isSignedIn",e.USER__SIGN_IN="user/signIn",e.USER__SIGN_OUT="user/signOut"}(t||(t={})),function(e){e.RESET_APPLICATIONS="application/resetApplications",e.SET_APPLICATIONS="application/setApplications",e.UPDATE_APPLICATIONS="application/updateApplications",e.ERROR__SET_ERROR_MODAL="error/setErrorModal",e.TICKET__SET_GROUPED_TICKET="ticket/setGroupedTicket",e.VIEW__SET_LOADING="view/setLoading"}(n||(n={}));const a=i(232);class r{firebaseAPIKey="AIzaSyAH8ZiZOLUSbsWe9KhlUYIQARb7P8_lgSs";firebaseToken=null;handler;store;dispatch;commit;constructor(e){this.handler=e,this.store=e.storeContext,this.dispatch=e.dispatch,this.commit=e.commit}async test(){}run=!1;cleanup(){this.run=!1}async selenium(e,t){t(await e().catch((e=>({error:e}))))}async check(){const e=document.querySelector(".error-modal");if(e){throw{title:e.querySelector(".title")?.textContent??"Unknown Error Title",detail:e.querySelector(".detail")?.textContent??"Unknown Error Detail"}}if(Array.from(document.body.lastElementChild?.children??[]).some((e=>1===e.nodeType&&"2000000000"===window.getComputedStyle(e).zIndex&&"visible"===window.getComputedStyle(e.parentNode).visibility)))throw{title:"reCAPTCHA",detail:"reCAPTCHA detected"}}async goTo(e){window.$nuxt.$store.$router.push(e),location.href.includes(e)||await new Promise((t=>requestAnimationFrame((()=>this.goTo(e).then(t)))))}async isSignedIn(){return window.$nuxt.$store.dispatch(t.USER__AUTO_SIGN_IN)}async signin(e){await window.$nuxt.$store.dispatch(t.USER__SIGN_IN,e)}async logout(){await window.$nuxt.$store.dispatch(t.USER__SIGN_OUT)}async uid(){const e=window.$nuxt.$store.getters["user/uid"];return e||(await window.$nuxt.$store.dispatch(t.USER__IS_SIGNED_IN),new Promise(((e,t)=>setTimeout((()=>e(this.uid())),1e3))))}event=null;tickets=null;eventId=null;async loadEvent(e){await window.$nuxt.$store.dispatch(t.EVENT__GET_SPECIFIC_EVENT,{eventUrl:e,pvToken:void 0,fcQuery:void 0}),this.event=window.$nuxt.$store.getters["event/event"],this.tickets=this.event.ticketInfoList.flatMap((e=>e.ticketTypes.map((t=>({e:this.event,g:e,t}))))),this.eventId=window.$nuxt.$store.getters["event/eventId"]}async getEvent(e){return this.event||await this.loadEvent(e),this.event}async getEventId(e){return this.eventId||await this.loadEvent(e),this.eventId}async isEventFavorite(e){return await window.$nuxt.$store.dispatch(t.EVENT__IS_EVENT_FAVORITE,e)}async favorite(e){await window.$nuxt.$store.dispatch(t.EVENT__ADD_EVENT_FAVORITE,e)}async getFavoriteEventList(){return await window.$nuxt.$store.dispatch(t.EVENT__GET_FAVORITE_EVENT_LIST),window.$nuxt.$store.getters["event/favoriteEventList"]}get applications(){return window.$nuxt.$store.getters["application/applications"]}get obtainedDocLength(){return window.$nuxt.$store.getters["application/obtainedDocLength"]}hasFetchedFirst=this.obtainedDocLength>0;hasFetchedAll=!1;async resetApplications(){await window.$nuxt.$store.commit(n.RESET_APPLICATIONS)}async getApplications(e){e?await window.$nuxt.$store.dispatch(t.APPLICATION__GET_APPLICATIONS,e):await window.$nuxt.$store.dispatch(t.APPLICATION__GET_APPLICATIONS)}async getAllApplications(){if(!this.hasFetchedFirst||10===this.obtainedDocLength)return this.hasFetchedFirst?10===this.obtainedDocLength&&await this.getApplications(new Date(this.applications[this.applications.length-1].createdAt)):(this.hasFetchedFirst=!0,await this.getApplications()),await this.getAllApplications();this.hasFetchedAll=!0}async getFirebaseToken(){return new Promise(((e,t)=>{const i=indexedDB.open("firebaseLocalStorageDb");i.onerror=e=>t("IndexedDB error: "+e.target.error),i.onsuccess=i=>{const n=i.target.result.transaction(["firebaseLocalStorage"],"readonly").objectStore("firebaseLocalStorage").getAll();n.onerror=e=>t("IndexedDB error: "+e.target.error),n.onsuccess=i=>{const n=i.target.result.find((e=>e.fbase_key&&e.fbase_key.startsWith("firebase:authUser:"))),a=n?.value?.stsTokenManager?.accessToken;a?e(a):t("Token not found in IndexedDB")}}}))}accountInfo=null;email=null;async getAccountInfo(){const e=this.firebaseToken||(this.firebaseToken=await this.getFirebaseToken());try{const t=await fetch(`https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=${this.firebaseAPIKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:e})});if(!t.ok)throw{status:t.status,statusText:t.statusText};const i=await t.json();return this.email=i.users[0].email,this.accountInfo=i.users[0]}catch(e){return console.error(e),this.accountInfo=null}}async login(e){if(!await this.isSignedIn())return await this.signin(e);const t=await this.getAccountInfo();if(!t)return await this.signin(e);t.email!==e.email&&(await this.logout(),await this.signin(e))}static DiveTicket2JSON(e){if(!e)return null;const t=structuredClone(e);return t.e.ticketInfoList.forEach((e=>{e.startApply=e.startApply.getTime(),e.endApply=e.endApply.getTime()})),t}static JSON2DiveTicket(e){if(!e)return null;const t=structuredClone(e);return t.e.ticketInfoList.forEach((e=>{e.startApply=new Date(e.startApply),e.endApply=new Date(e.endApply)})),t}container=null;async init(){if(this.container=this.container||document.querySelector(".main"),this.container&&"set"!==this.container.dataset.styled){const e=":root{ --green1: #4caf50; --green1-rgb: 76,175,80; --green2: #e8f5e9; --green2-rgb: 232,245,233; --green-gradient: linear-gradient(90deg,#81c784,#66bb6a); --red1: #f44336; --red1-rgb: 244,67,54; --red2: #ffebee; --red2-rgb: 255,235,238; --red-gradient: linear-gradient(90deg,#ef5350,#e53935); --purple1: #9c27b0; --purple1-rgb: 156,39,176; --purple2: #f3e5f5; --purple2-rgb: 243,229,245; --purple-gradient: linear-gradient(90deg,#ba68c8,#ab47bc); --yellow1: #ffeb3b; --yellow1-rgb: 255,235,59; --yellow2: #fffde7; --yellow2-rgb: 255,253,231; --yellow-gradient: linear-gradient(90deg,#fff176,#ffee58); --pink1: #e91e63; --pink1-rgb: 233,30,99; --pink2: #fce4ec; --pink2-rgb: 252,228,236; --pink-gradient: linear-gradient(90deg,#f06292,#ec407a); --brown1: #795548; --brown1-rgb: 121,85,72; --brown2: #efebe9; --brown2-rgb: 239,235,233; --brown-gradient: linear-gradient(90deg,#a1887f,#8d6e63); } p[data-v-2d946641]{ font-weight: 600; line-height: 100%; } .application-detail__wrapper[data-v-2d946641]{ display: flex; flex-direction: column; gap: 1.6rem; margin-top: 1.2rem; }",t=document.createElement("style");t.textContent=e,document.head.appendChild(t),this.container.dataset.styled="set"}if(!this.container)return await new Promise((e=>requestAnimationFrame((()=>this.init().then(e)))))}createElement(e,t,i){const n=document.createElement(e);return t&&(n.className=t),i&&(n.innerHTML=i),n}addDataAttribute(e,t){e.setAttribute(`data-${t}`,"")}addDataAttributeRecursively(e,t){this.addDataAttribute(e,t),Array.from(e.children).forEach((e=>this.addDataAttributeRecursively(e,t)))}removeDataAttribute(e,t){e.removeAttribute(`data-${t}`)}removeDataAttributeRecursively(e,t){this.removeDataAttribute(e,t),Array.from(e.children).forEach((e=>this.removeDataAttributeRecursively(e,t)))}createButton(e,t,i){const n=this.createElement("button",t,e);return this.addDataAttributeRecursively(n,"v-aff61f2a"),this.addDataAttributeRecursively(n,"v-26c60468"),n.style.setProperty("--color","var(--white1)"),n.style.setProperty("--bg-color","var(--blue-gradient)"),n.style.setProperty("--border","none"),n.style.setProperty("--height","4.6rem"),n.style.setProperty("--width","fit-content"),n.style.setProperty("--min-width","18.6rem"),n.style.setProperty("--padding","0 3.6rem"),n.style.setProperty("--pointer-events","auto"),n.addEventListener("click",i),n}createWideButton(e,t,i){const n=this.createElement("button",t,e);return this.addDataAttributeRecursively(n,"v-aff61f2a"),this.addDataAttributeRecursively(n,"v-26c60468"),n.style.setProperty("--color","var(--white1)"),n.style.setProperty("--bg-color","var(--blue-gradient)"),n.style.setProperty("--border","none"),n.style.setProperty("--height","4.6rem"),n.style.setProperty("--width","100%"),n.style.setProperty("--min-width","auto"),n.style.setProperty("--padding","0"),n.style.setProperty("--pointer-events","auto"),n.addEventListener("click",i),n}showReceiptModal(e){const t=this.createElement("div","application-modal__wrapper");t.style.setProperty("display","flex"),t.style.setProperty("flex-direction","column"),t.style.setProperty("gap","3.2rem");const i=new a.TicketData(e,this.email??"Unknown").generateDescription(),r=this.createElement("div","application-detail__wrapper");r.appendChild(this.createElement("h3","fs20 lh200 fw6",e.event.name)),r.appendChild(this.createApplicationDetailRow("注文番号",e.applicationId)),r.appendChild(this.createApplicationDetailRow("購入内容",`${e.ticketType.name} × ${e.quantity}枚`)),r.appendChild(this.createApplicationDetailRow("受付時刻",`${e.createdAt.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",weekday:"short"})} ${e.createdAt.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}.${e.createdAt.getMilliseconds()}`)),r.appendChild(this.createApplicationDetailRow("決済秒数",(e.createdAt.getTime()-e.ticketInfo.startApply.getTime())/1e3+"秒")),r.appendChild(this.createApplicationDetailRow("支払番号",e.gmoOrderId?`${e.confirmNumber}-${e.receiptNumber}`:"")),r.appendChild(this.createApplicationDetailRow("支払金額",`${e.totalPrice}円`)),r.appendChild(this.createApplicationDetailRow("支払期限",e.paymentTerm?`${e.paymentTerm.toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",weekday:"short"})} ${e.paymentTerm.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit",hour12:!1})}`:"")),r.appendChild(this.createApplicationDetailRow("整理番号",e.referenceNumbers?.map((t=>`${e.ticketType.prefix}-${t}`)).join(", ")??"")),r.appendChild(this.createApplicationDetailRow("ログイン",this.email??"Unknown")),this.addDataAttributeRecursively(r,"v-2d946641");const s=this.createElement("div","modal-btn__row");s.style.setProperty("display","flex"),s.style.setProperty("gap","2.4rem"),s.style.setProperty("justify-content","space-between");const o=this.createWideButton("支払票をコピー","btn",(()=>navigator.clipboard.writeText(i)));o.style.setProperty("--bg-color","var(--orange-gradient)");const c=this.createWideButton("詳細を表示","btn",(()=>this.handleApplicationDetailButtonClick(e)));t.appendChild(r),s.appendChild(o),s.appendChild(c),t.appendChild(s),window.$nuxt.$store.commit(n.ERROR__SET_ERROR_MODAL,{title:"支払票",detail:'<div class="modal__wrapper"></div>'}),this.replaceModalWrapper(t)}createApplicationDetailRow(e,t){const i=this.createElement("div","row both-ends");return i.appendChild(this.createElement("p","gray",e)),i.appendChild(this.createElement("p","fs14",t)),i}replaceModalWrapper(e){const t=document.querySelector(".modal__wrapper");if(!t)return requestAnimationFrame((()=>this.replaceModalWrapper(e)));{const i=t.closest(".detail");i&&i.style.setProperty("width","calc(min(480px, 100%) - 4.8rem)"),t.replaceWith(e)}}handleApplicationDetailButtonClick(e){window.$nuxt.$store.commit(n.ERROR__SET_ERROR_MODAL,{}),this.goTo(`/application/${e.applicationId}`)}dayOfWeek=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];dayOfWeekJp=["日","月","火","水","木","金","土"];num2Digits(e){return String(e).padStart(2,"0")}dateToDateStrWithDays(e){}dateToDateKanjiWithDays(e){}dateToDateStrWithoutDays(e){}dateToDateStrWithoutYear(e){}dateToDateStr2digitsWithDays(e){}dateToDateStr2digitsWithoutDays(e){}dateToDateStr2digitsWithoutYearDays(e){}getDayOfWeek(e){return this.dayOfWeek[e.getDay()]}dateToDateStr(e){return`${e.getMonth()+1}.${e.getDate()}`}dateToTimeStr(e){return`${this.num2Digits(e.getHours())}:${this.num2Digits(e.getMinutes())}`}isBeforeHours(e){}isAfterHours(e){}OnOrAfterToday(e){}ageFromBirthdate(e){}yyyyMMdd(e){}date2DateString(e){return`${e.getFullYear()}/${this.num2Digits(e.getMonth()+1)}/${this.num2Digits(e.getDate())}`}date2DateStringWithDay(e){const t=["日","月","火","水","木","金","土"][e.getDay()];return`${e.getFullYear()}/${this.num2Digits(e.getMonth()+1)}/${this.num2Digits(e.getDate())}(${t})`}date2TimeString(e){return`${this.num2Digits(e.getHours())}:${this.num2Digits(e.getMinutes())}`}date2TimeStringWithSecond(e){return`${this.num2Digits(e.getHours())}:${this.num2Digits(e.getMinutes())}:${this.num2Digits(e.getSeconds())}`}date2TimeStringWithMillisecond(e){return`${this.num2Digits(e.getHours())}:${this.num2Digits(e.getMinutes())}:${this.num2Digits(e.getSeconds())}.${String(e.getMilliseconds()).padStart(3,"0")}`}date2DateTimeString(e){return`${this.date2DateString(e)} ${this.date2TimeString(e)}`}date2DetailedDateTimeString(e){return`${this.date2DateStringWithDay(e)} ${this.date2TimeStringWithMillisecond(e)}`}}class s extends r{constructor(e){super(e),this.run=!0,this.init()}async init(){await Promise.all([super.init(),this.loadEvent(window.$nuxt._route.params.url)]),this.update(),this.render()}topImageListenerAdded=!1;ticketTypeCards=[];applyCount=null;applyCustomizes={};async update(){if(!this.run)return;const e=document.getElementById("top-img");return e&&!this.topImageListenerAdded&&(e.addEventListener("click",(()=>{e.style.border="1px solid #2d9cdb",this.ticketTypeCards.forEach((e=>e.style.border="1px solid var(--white3)")),localStorage.setItem("diver.scratch.ticket",""),localStorage.setItem("diver.apply.ticket",""),localStorage.setItem("diver.apply.count",""),localStorage.setItem("diver.apply.customizes",""),localStorage.setItem("diver.apply.enabled","false"),localStorage.setItem("diver.apply.running","false")})),this.topImageListenerAdded=!0),await new Promise((e=>requestAnimationFrame((()=>this.update().then(e)))))}render(){const e=document.querySelector(".stages__wrapper")||document.querySelector(".ticket-info__wrapper");return e&&this.event?this.tickets?.some((({g:e})=>e.customizeList?.some((({type:e})=>"text"===e))))?window.alert("お目当てにテキスト入力が含まれています。"):(e.innerHTML="",void this.event.ticketInfoList.sort(((e,t)=>e.orderIndex-t.orderIndex)).forEach((t=>e.appendChild(this.createTicketInfo(t))))):requestAnimationFrame((()=>this.render()))}createTicketInfo(e){const t=this.createElement("div","card");return t.appendChild(this.createTicketInfoTitle(e)),e.ticketTypes.sort(((e,t)=>e.orderIndex-t.orderIndex)).forEach((i=>t.appendChild(this.createTicketTypeCard(this.tickets.find((t=>t.g.id===e.id&&t.t.id===i.id)))))),this.addDataAttributeRecursively(t,"v-5404487a"),t}createTicketInfoTitle(e){const t=this.createElement("div","ticket-info-detail"),i=this.createElement("h3","fs20 fw5",e.name),n=this.createElement("div","row"),a=this.createElement("p","apply-status",this.statusJp(e));a.style.setProperty("--bg-color",this.statusStyle(e).bg);const r=this.createElement("p","date-with-status",`${this.date2DetailedDateTimeString(e.startApply)}～<br>${this.date2DetailedDateTimeString(e.endApply)}`);return n.appendChild(a),n.appendChild(r),t.appendChild(i),t.appendChild(n),t}statusJp(e){switch(e.status){case"comming":return"lottery"===e.receptionType?"抽選受付前":"販売開始前";case"applied":return"lottery"===e.receptionType?"抽選受付中":"販売中";case"closed":return"lottery"===e.receptionType?"抽選受付終了":"販売終了";default:return"不明"}}statusStyle(e){switch(e.status){case"comming":return{bg:"var(--blue1)"};case"applied":return{bg:"var(--orange1)"};default:return{bg:"var(--black2)"}}}createTicketTypeCard(t){const i=this.createElement("div","ticket-type"),n=this.createElement("div","ticket__name-and-price");n.appendChild(this.createElement("h4","fs16 fw6 lh175",t.t.name)),n.appendChild(this.createElement("p",void 0,`¥${t.t.price}円`)),i.appendChild(n),i.appendChild(this.createTicketTypeDetailRow("初期値",t.t.prefix?`${t.t.prefix}-${t.t.initReferenceNumber}`:t.t.initReferenceNumber.toString())),i.appendChild(this.createTicketTypeDetailRow("譲渡制限",t.g.isUntransferable?"譲渡不可":"譲渡可")),i.appendChild(this.createTicketTypeDetailRow("電話番号認証",t.g.isPhoneNumberNeeded?"認証あり":"認証なし")),i.appendChild(this.createTicketTypeDetailRow("購入制限",`${t.t.maxNumPerApply} × ${t.t.isOnceApplyOnly?"1":"n"}`)),i.appendChild(this.createTicketTypeDetailRow("残量",1===t.t.remainingRate?"残量不明":100*t.t.remainingRate+"%")),"lottery"===t.g.receptionType&&t.g.lotteryMode&&i.appendChild(this.createTicketTypeDetailRow("抽選方式","auto"===t.g.lotteryMode?"自動":"manual"===t.g.lotteryMode?"手動":t.g.lotteryMode??"不明")),i.appendChild(this.createElement("pre","mt12 fs12",t.t.detail)),i.appendChild(this.createTicketTypeDetailNumSelectorRow(t)),t.g.customizeList?.forEach(((e,t)=>{e.selectOptions&&e.selectOptions.length>2&&i.appendChild(this.createTicketTypeDetailTextSelectorRow(`customize-${t}`,e.label,e.selectOptions))}));const a=this.createWideButton("予約購入","btn mt12",(async()=>{(0,e.saveDateToLocalStorage)("diver.apply.ticket",t),(0,e.saveDateToLocalStorage)("diver.apply.count",this.applyCount),(0,e.saveDateToLocalStorage)("diver.apply.customizes",this.applyCustomizes),(0,e.saveDateToLocalStorage)("diver.apply.enabled",!0);await this.isEventFavorite(this.eventId)||await this.favorite(this.eventId),await this.goTo("/favorite")}));return this.removeDataAttribute(a,"v-26c60468"),i.appendChild(a),i.addEventListener("click",(()=>{(0,e.saveDateToLocalStorage)("diver.scratch.ticket",t),this.ticketTypeCards.forEach((e=>e.style.border="1px solid var(--white3)")),i.style.border="1px solid #2d9cdb"})),this.ticketTypeCards.push(i),i}createTicketTypeDetailRow(e,t){const i=this.createElement("div","mt12 row both-ends"),n=this.createElement("div"),a=this.createElement("p","fw6 fs12",e),r=this.createElement("p",void 0,t);return n.appendChild(a),i.appendChild(n),i.appendChild(r),i}createTicketTypeDetailNumSelectorRow(e){const t=`${e.t.id}-num-selector`,i=e.t.maxNumPerApply,n=this.createElement("div","mt12 row both-ends"),a=this.createElement("div"),r=this.createElement("p","fw6 fs12","予約申込枚数"),s=this.createElement("label");s.htmlFor=t;const o=this.createElement("select","select");o.id=t,o.setAttribute("type","number");const c=this.createElement("option",void 0,"選択する");return c.value="0",o.appendChild(c),Array.from({length:i}).forEach(((e,t)=>{const i=this.createElement("option",void 0,(t+1).toString());i.value=(t+1).toString(),o.appendChild(i)})),s.appendChild(o),a.appendChild(r),n.appendChild(a),n.appendChild(s),o.addEventListener("change",(()=>this.applyCount=Number(o.value))),n}createTicketTypeDetailTextSelectorRow(e,t,i){const n=this.createElement("div","mt12 row both-ends"),a=this.createElement("div"),r=this.createElement("p","fw6 fs12",t),s=this.createElement("label");s.htmlFor=e;const o=this.createElement("select","select");return o.id=e,o.setAttribute("type","text"),i.forEach((e=>{const t=this.createElement("option");t.value=e.value,t.textContent=e.value,e.hidden&&(t.hidden=!0),o.appendChild(t)})),s.appendChild(o),a.appendChild(r),n.appendChild(a),n.appendChild(s),o.addEventListener("change",(()=>this.applyCustomizes[e]=o.value)),n}}class o extends r{constructor(e){super(e),this.run=!0,this.init()}async init(){this.overrideDispatch(),this.overrideCommit(),this.render()}flagGetTicketDetail=!1;flagGetRelatedTickets=!1;overrideDispatch(){this.store.dispatch=(e,i)=>(e===t.TICKET__GET_TICKET_DETAIL&&(this.flagGetTicketDetail=!0),e===t.TICKET__GET_RELATED_TICKETS&&(this.flagGetRelatedTickets=!0),this.dispatch.call(this.store,e,i))}overrideCommit(){this.store.commit=(e,t)=>{if(e===n.TICKET__SET_GROUPED_TICKET){if(this.flagGetTicketDetail){this.flagGetTicketDetail=!1;const e=this.createDiveTickets(t[0]);if(e)return this.commit.call(this.store,n.TICKET__SET_GROUPED_TICKET,e)}if(this.flagGetRelatedTickets){this.flagGetRelatedTickets=!1;const e=this.createDiveTickets();if(e)return this.commit.call(this.store,n.TICKET__SET_GROUPED_TICKET,e)}}return this.commit.call(this.store,e,t)}}createDiveTickets(t){const i=(0,e.restoreDateFromLocalStorage)("diver.scratch.ticket");return i?(this.prefix=i.t.prefix,Array.from({length:this.numberOfTickets}).map(((e,n)=>structuredClone(this.createDiveTicket(i,t,n))))):null}createDiveTicket(e,t,i=0){const n={applicationId:"diver.scratch.applicationId",createdAt:new Date(Date.now()-1728e5),enterAt:void 0,entranceStatus:"ready",event:e.e,eventId:e.e.id,isUntransferable:e.g.isUntransferable,method:"button",participantUid:"diver.scratch.participantUid",purchaserUid:"diver.scratch.purchaserUid",qrCode:"asdgadsfhguipahupewihuioebaiufgpbaiposdbgpiusdabpiugbp",referenceNumber:this.getReferenceNumber(i),stage:e.e.stages[0],stageId:e.e.stages[0].id,startStage:{nanoseconds:0,seconds:e.e.stages[0].startStage.getTime()/1e3},ticketId:"diver.scratch.ticketId",ticketInfo:e.g,ticketInfoId:e.g.id,ticketType:e.t,ticketTypeId:e.t.id};return Object.assign(n,t?{applicationId:t.applicationId,method:t.method,participantUid:t.participantUid,purchaserUid:t.purchaserUid,stageId:t.stageId,ticketId:t.ticketId}:{})}set numberOfTickets(e){localStorage.setItem("diver.scratch.numberOfTickets",e.toString())}get numberOfTickets(){const e=localStorage.getItem("diver.scratch.numberOfTickets");return e||localStorage.setItem("diver.scratch.numberOfTickets","1"),e?Number(e):1}prefix=null;initReferenceNumber=null;set referenceNumber(e){localStorage.setItem("diver.scratch.referenceNumber",e.toString())}get referenceNumber(){const e=localStorage.getItem("diver.scratch.referenceNumber");return e||localStorage.setItem("diver.scratch.referenceNumber","1"),e?Number(e):this.initReferenceNumber??1}getReferenceNumber(e){return this.prefix?`${this.prefix}-${this.referenceNumber+e}`:(this.referenceNumber+e).toString()}render(){this.renderTicketDetailBottom()}renderTicketDetailBottom(){const e=document.querySelector(".ticket-detail__bottom");if(!e)return requestAnimationFrame((()=>this.render()));e.replaceWith(this.createTicketDetailBottom())}createTicketDetailBottom(){const e=this.createElement("div","ticket-detail__bottom"),t=this.createElement("div","col pointer"),i=this.createElement("img");i.src="/_nuxt/img/distribution.fb1de2a.svg";const n=this.createElement("p","mt08 fs12 fw6 lh100","返却する");t.appendChild(i),t.appendChild(n);const a=this.createElement("div","btn");a.style.setProperty("--color","var(--white1)"),a.style.setProperty("--bg-color","var(--main-color)"),a.style.setProperty("--border","none"),a.style.setProperty("--height","5.6rem"),a.style.setProperty("--width","24rem"),a.style.setProperty("--min-width","auto"),a.style.setProperty("--padding","0 0"),a.style.setProperty("--pointer-events","auto");const r=this.createElement("div","enter-btn-text col"),s=this.createElement("p",void 0,"入場する"),o=this.createElement("p",void 0,"（係員以外操作無効）");return a.appendChild(r),r.appendChild(s),r.appendChild(o),this.addDataAttributeRecursively(a,"v-aff61f2a"),e.appendChild(t),e.appendChild(a),this.addDataAttributeRecursively(e,"v-443e3254"),a.addEventListener("click",(()=>this.handleEnterButtonClick())),e}handleEnterButtonClick(){const e=document.querySelector(".main");if(!e)return requestAnimationFrame((()=>this.handleConfirmButtonClick()));e.prepend(this.createEnterModal())}createEnterModal(){const e=this.createElement("div","modal__outer modal__outer");this.addDataAttribute(e,"v-443e3254");const t=this.createElement("div","modal"),i=this.createElement("div","close"),n=this.createElement("img","close-btn");n.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE4IDZMNiAxOCIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNNiA2TDE4IDE4IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=",n.alt="x",i.appendChild(n),i.addEventListener("click",(()=>e.remove()));const a=this.createElement("div");a.appendChild(this.createElement("p","modal-title red","必ず係員が操作してください")),a.appendChild(this.createElement("p","modal-title","本当に入場しますか？")),this.addDataAttributeRecursively(a,"v-443e3254");const r=this.createElement("p","modal-detail","この操作は取り消せません．<br>誤って「入場する」を押した場合、<br>入場できなくなる場合がございます．");this.addDataAttributeRecursively(r,"v-443e3254");const s=this.createElement("div","modal-btn__row"),o=this.createWideButton("キャンセル","btn",(()=>e.remove())),c=this.createWideButton("入場する","btn",(()=>{e.remove(),this.handleConfirmButtonClick()}));return o.style.setProperty("--color","var(--black1)"),o.style.setProperty("--bg-color","var(--white2)"),c.style.setProperty("--color","var(--white1)"),c.style.setProperty("--bg-color","var(--main-color)"),s.appendChild(o),s.appendChild(c),this.addDataAttributeRecursively(s,"v-443e3254"),t.appendChild(i),t.appendChild(a),t.appendChild(r),t.appendChild(s),e.appendChild(t),this.addDataAttributeRecursively(e,"v-3d6609a2"),e}handleConfirmButtonClick(){this.store.commit(n.VIEW__SET_LOADING,!0),setTimeout((()=>{this.store.commit(n.VIEW__SET_LOADING,!1)}),1e3)}createEnteredStamp(){const e=this.createElement("div","entered-stamp");e.appendChild(this.createElement("p","entered-at","入場済")),e.appendChild(this.createElement("p","entered-at rotated","入場済"));const t=this.createElement("div","outer-circle");return t.appendChild(this.createElement("p","fs36","19:00")),e.appendChild(t),e.appendChild(this.createElement("p","circle-big")),e.appendChild(this.createElement("p","circle-mid")),e.appendChild(this.createElement("p","circle-small")),this.addDataAttributeRecursively(e,"v-443e3254"),e}}class c extends r{constructor(e){super(e),this.run=!0,this.init()}async init(){await this.uid(),this.getAllApplications(),await Promise.all([super.init(),this.getAccountInfo()]),this.render()}eEntries=this.createElement("div","entries");renderedApplicationIds=new Set;render(){const e=this.createElement("div","main__contents");this.addDataAttribute(e,"v-6adabd6e");const t=this.createElement("div","col"),i=this.createElement("p","en","Entries"),n=this.createElement("div","jp__outer"),a=this.createElement("h1","jp","応募一覧");this.addDataAttribute(this.eEntries,"v-6adabd6e"),n.appendChild(a),t.appendChild(i),t.appendChild(n),this.addDataAttributeRecursively(t,"v-57275cba"),e.appendChild(t),e.appendChild(this.eEntries),this.renderApplications(),this.replaceMainContents(e)}replaceMainContents(e){const t=document.querySelector(".main");if(!t)return requestAnimationFrame((()=>this.replaceMainContents(e)));t.innerHTML="",t.appendChild(e)}renderApplications(){if(this.applications.forEach((e=>{this.renderedApplicationIds.has(e.applicationId)||(this.eEntries.appendChild(this.createApplicationCard(e)),this.renderedApplicationIds.add(e.applicationId))})),!this.hasFetchedAll)return requestAnimationFrame((()=>this.renderApplications()))}createApplicationCard(e){const t=this.createElement("div","apply-list__item");this.addDataAttribute(t,"v-6adabd6e");const i=this.createElement("div","card--application"),n=this.createApplicationStatusLabel(e),a=this.createElement("div","application-detail__wrapper"),r=this.createElement("h2","fs16 lh150 fw6",e.event.name),s=this.createApplicationDetailRow("申込ID",e.applicationId),o=e.createdAt.toLocaleDateString(),c=e.createdAt.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),l=e.createdAt.getMilliseconds(),d=this.createApplicationDetailRow("申込日時",`${o} ${c}.${l}`);return a.appendChild(r),a.appendChild(s),a.appendChild(d),e.referenceNumbers&&a.appendChild(this.createApplicationDetailRow("整理番号",e.referenceNumbers.map((t=>`${e.ticketType.prefix}-${t}`)).join(", "))),i.appendChild(n),i.appendChild(a),this.addDataAttributeRecursively(i,"v-2d946641"),t.appendChild(i),t.addEventListener("click",(()=>this.showReceiptModal(e))),t}createApplicationStatusLabel(e){const t=this.createElement("p","application-status",this.statusJp(e)),{text:i,label:n}=this.statusStyle(e.status);return t.style.setProperty("--text-color",`var(--${i})`),t.style.setProperty("--label-color",`var(--${n})`),t}statusJp(e){switch(e.status){case"konbiniWait":return"入金待ち";case"konbiniApplied":return"申込完了(コンビニ)";case"requiresCapture":return"申込完了(無銭)";case"deposited":return"first"===e.receptionType?"入金済み":"lottery"===e.receptionType?"当選":"入金済み(不明)";case"lose":return"落選";case"ticketed":return"チケット発券済";case"cancel":return"キャンセル";case"unpaid":return"入金期限切れ";default:return"不明"}}statusStyle(e){switch(e){case"konbiniWait":return{text:"orange1",label:"orange2"};case"konbiniApplied":return{text:"blue1",label:"blue2"};case"requiresCapture":return{text:"brown1",label:"brown2"};case"deposited":return{text:"purple1",label:"purple2"};case"lose":return{text:"pink1",label:"pink2"};case"ticketed":return{text:"green1",label:"green2"};case"cancel":return{text:"yellow1",label:"yellow2"};case"unpaid":return{text:"red1",label:"red2"};default:return{text:"black2",label:"white3"}}}}class l extends r{constructor(e){super(e),this.run=!0,this.init()}async init(){await Promise.all([super.init(),this.getAccountInfo()]),this.handleTitleClick(!1),this.update()}count=null;favoriteEventList=null;index=null;async enterCount(e,t){return new Promise(((i,n)=>{const a=this.count||(this.count=document.getElementById(e)),r=this.favoriteEventList||(this.favoriteEventList=window.$nuxt.$store.getters["event/favoriteEventList"]),{group_index:s,ticket_index:o}=this.index||(this.index=r.flatMap((e=>e.ticketInfoList.flatMap(((e,t)=>e.ticketTypes.map(((e,i)=>({group_index:t,ticket_index:i,t:e}))))))).find((({t})=>t.id===e))),c=document.querySelectorAll(".card")[s]?.querySelectorAll(".ticket-type")[o];a&&a.value!==t?(a.value=t,a.dispatchEvent(new Event("change")),a.closest(".card").querySelector(".btn").click(),i()):c&&c.classList.contains("ticket-type--sold-out")?n({title:"枚数選択失敗",detail:"チケットが売り切れました。"}):requestAnimationFrame((()=>this.enterCount(e,t).then(i).catch(n)))}))}customizeElements={};async enterCustomizes(e){return new Promise(((t,i)=>{const n=this.customizeElements;Object.entries(e).filter((([e,t])=>!n[e])).forEach((([e,t])=>{const i=document.getElementById(e);i&&(i.value=t,i.dispatchEvent(new Event("change")),n[e]=i)})),Object.entries(e).every((([e,t])=>n[e]?.value===t))?t():Object.entries(e).some((([e,t])=>""===n[e]?.value))?i({title:"お目当て選択失敗",detail:"お目当ての選択肢が無効です。"}):requestAnimationFrame((()=>this.enterCustomizes(e).then(t).catch(i)))}))}konbiniLabel=null;konbiniName=null;konbiniKana=null;konbiniTel=null;async enterKonbini(e,t,i){return new Promise(((n,a)=>{const r=this.konbiniLabel||(this.konbiniLabel=document.querySelector("label[for='konbini']"));if(r&&!r.dataset.checked)return r.click(),r.dataset.checked="true",requestAnimationFrame((()=>this.enterKonbini(e,t,i).then(n).catch(a)));const s=this.konbiniName||(this.konbiniName=document.getElementById("konbini-name")),o=this.konbiniKana||(this.konbiniKana=document.getElementById("konbini-kana")),c=this.konbiniTel||(this.konbiniTel=document.getElementById("konbini-tel"));s&&s.value!==e&&(s.value=e,s.dispatchEvent(new Event("input"))),o&&o.value!==t&&(o.value=t,o.dispatchEvent(new Event("input"))),c&&c.value!==i&&(c.value=i,c.dispatchEvent(new Event("input"))),s?.value===e&&o?.value===t&&c?.value===i?n():requestAnimationFrame((()=>this.enterKonbini(e,t,i).then(n).catch(a)))}))}async urlChange(e){return new Promise(((t,i)=>{location.href.includes(e)?t():requestAnimationFrame((()=>this.urlChange(e).then(t).catch(i)))}))}async waitForLoadingCover(){return new Promise(((e,t)=>{document.querySelector(".loading-cover")?requestAnimationFrame((()=>this.waitForLoadingCover().then(e).catch(t))):e()}))}async submitApply(){return new Promise(((e,t)=>{const i=document.querySelector(".btn");i?(i.style.zIndex="4000000000",i.click(),e()):requestAnimationFrame((()=>this.submitApply().then(e).catch(t)))}))}async executeOnTime(e,t){if(this.enabled)return new Promise(((i,n)=>{const a=Date.now();if(t?.(e-a),e<a)i();else if(a+1e3<e)setTimeout((()=>this.executeOnTime(e,t).then(i).catch(n)),100);else{for(;Date.now()<e;);i()}}))}eTitle=null;eDescription=null;timerCallback(e){const t=this.eTitle||(this.eTitle=document.querySelector(".main__contents > .col p")),i=this.eDescription||(this.eDescription=document.querySelector(".main__contents > .col h1")),n=(()=>{if(e<0)return"00:00:00.000";return`${Math.floor(e/36e5).toString().padStart(2,"0")}:${Math.floor(e%36e5/6e4).toString().padStart(2,"0")}:${Math.floor(e%6e4/1e3).toString().padStart(2,"0")}.${(e%1e3).toString().padStart(3,"0")}`})();t&&(t.textContent="Reservation"),i&&(i.textContent=e<1e3?"Reserving":`Start in \n ${n}`)}changeTitle(e,t){const i=this.eTitle||(this.eTitle=document.querySelector(".main__contents > .col p")),n=this.eDescription||(this.eDescription=document.querySelector(".main__contents > .col h1"));if(!i||!n)return requestAnimationFrame((()=>this.changeTitle(e,t)));i&&(i.textContent=e),n&&(n.textContent=t)}async handleTitleClick(e){e&&(this.enabled=!this.enabled,localStorage.setItem("diver.apply.enabled",this.enabled?"true":"false"),localStorage.setItem("diver.apply.running",this.enabled?"true":"false")),this.enabled?(this.changeTitle("自動申込有効","自動申込が有効に設定されました。"),this.prepare()):this.changeTitle("自動申込無効","自動申込が無効に設定されました。")}descriptionState=!0;handleDescriptionClick(){this.test()}enabled=!1;async prepare(){if(this.enabled="true"===localStorage.getItem("diver.apply.enabled"),!this.enabled)return this.changeTitle("自動申込無効","自動申込が無効に設定されています。");const e=JSON.parse(localStorage.getItem("diver.apply.ticket")??"null");if(!e)return this.changeTitle("チケット選択失敗","チケットが選択されていません。");const t=JSON.parse(localStorage.getItem("diver.apply.count")??"null");if(!t)return this.changeTitle("枚数選択失敗","枚数が選択されていません。");const i=JSON.parse(localStorage.getItem("diver.apply.customizes")??"{}");if(!await this.isSignedIn())return this.changeTitle("未ログイン","ログインが必要です。");await this.isEventFavorite(e.e.id)||await this.favorite(e.e.id);if(!(await this.getFavoriteEventList()).some((t=>t.id===e.e.id)))return this.changeTitle("お気に入り登録失敗","お気に入り登録に失敗しました。");await this.executeOnTime(e.g.startApply,this.timerCallback.bind(this)),this.enabled&&(await this.goTo(`/event/${e.e.url}`),await this.enterCount(e.t.id,t.toString()),await this.enterCustomizes(i),0!==e.t.price&&await this.enterKonbini("西山大地","にしやまだいち","08045450721"),await this.waitForLoadingCover(),await this.submitApply(),await this.urlChange("/apply/done"),localStorage.setItem("diver.apply.enabled","false"),localStorage.setItem("diver.apply.running","false"),await this.resetApplications(),await this.getApplications(),this.showReceiptModal(this.applications[0]),(0,a.sendTicketData)(this.applications[0],this.email??"Unknown"))}run=!1;async update(){if(this.run)return this.eTitleListenerAdded||await this.updateTitleListener(),this.eDescriptionListenerAdded||await this.updateDescriptionListener(),this.eEventEdited||await this.updateEventCard(),new Promise(((e,t)=>requestAnimationFrame((()=>this.update().then(e).catch(t)))))}eTitleListenerAdded=!1;async updateTitleListener(){const e=this.eTitle||(this.eTitle=document.querySelector(".main__contents > .col p"));e&&!this.eTitleListenerAdded&&(e.addEventListener("click",this.handleTitleClick.bind(this,!0)),this.eTitleListenerAdded=!0)}eDescriptionListenerAdded=!1;async updateDescriptionListener(){const e=this.eDescription||(this.eDescription=document.querySelector(".main__contents > .col h1"));e&&!this.eDescriptionListenerAdded&&(e.addEventListener("click",this.handleDescriptionClick.bind(this)),this.eDescriptionListenerAdded=!0)}eEventCard=null;eEventEdited=!1;async updateEventCard(){const e=JSON.parse(localStorage.getItem("diver.apply.ticket")??"null");if(!e)return;const t=this.eEventCard||(this.eEventCard=document.querySelector(`a.event-info[href="/event/${e.e.url}"]`));t&&(t.style.border="1px solid #e83b47",this.eEventEdited=!0)}cleanup(){super.cleanup(),this.run=!1,localStorage.setItem("diver.apply.enabled","false"),this.enabled=!1}}new class{currentHandler=null;storeContext=window.$nuxt.$store;dispatch;commit;constructor(){this.dispatch=this.storeContext.dispatch,this.commit=this.storeContext.commit,this.overrideStore(),this.handleURLChange(),window.$nuxt.$store.$router.afterEach((()=>this.handleURLChange()))}overrideStore(){this.storeContext.dispatch=(e,t)=>(console.log("dispatch",e,t),this.dispatch.call(this.storeContext,e,t)),this.storeContext.commit=(e,t)=>(console.log("commit",e,t,t instanceof Array?t.length:""),this.commit.call(this.storeContext,e,t))}cleanup(){this.currentHandler?.cleanup(),this.currentHandler=null}handleURLChange(){const e=window.$nuxt._route.name,t="true"===localStorage.getItem("diver.apply.running");switch(e){case"event-url":if(t)break;this.cleanup(),this.currentHandler=new s(this);break;case"favorite":this.cleanup(),this.currentHandler=new l(this);break;case"application":this.cleanup(),this.currentHandler=new c(this);break;case"ticket-id":this.cleanup(),this.currentHandler=new o(this);break;default:this.cleanup()}}}})()})();